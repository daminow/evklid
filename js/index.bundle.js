!function(){"use strict";document.addEventListener("DOMContentLoaded",(e=>{document.getElementById("burger").addEventListener("click",(function(){document.querySelector("header").classList.toggle("open")})),document.querySelector(".header__search-open").addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".header__search").classList.add("active")})),document.querySelector(".header__search-close").addEventListener("click",(e=>{document.querySelector(".header__search").classList.remove("active"),e.preventDefault()})),new class{constructor(e,t={}){this.container=document.querySelector(e),this.options=Object.assign({loop:!1,pagination:{el:null,clickable:!1},a11y:{paginationBulletMessage:"Слайд {{index}}"}},t),this.wrapper=this.container.querySelector(".hero__swiper-wrapper"),this.slides=Array.from(this.wrapper.querySelectorAll(".hero__swiper-slide")),this.totalSlides=this.slides.length,this.currentIndex=0,this.touchData={startX:0,isSwiping:!1},this.boundHandleTouchStart=this.handleTouchStart.bind(this),this.boundHandleTouchEnd=this.handleTouchEnd.bind(this),this.boundHandleMouseDown=this.handleMouseDown.bind(this),this.boundHandleMouseUp=this.handleMouseUp.bind(this),this.boundHandleMouseLeave=this.handleMouseLeave.bind(this),this.boundHandleKeyDown=this.handleKeyDown.bind(this),this.options.pagination.el&&this.createPagination(),this.addEventListeners(),this.update()}createPagination(){this.paginationEl=this.container.querySelector(this.options.pagination.el),this.paginationEl.innerHTML="",this.paginationBullets=[];for(let e=0;e<this.totalSlides;e++){const t=document.createElement("button");t.className="hero__swiper-pagination-bullet",t.type="button",this.options.a11y&&this.options.a11y.paginationBulletMessage&&t.setAttribute("aria-label",this.options.a11y.paginationBulletMessage.replace("{{index}}",e+1)),t.addEventListener("click",(()=>this.goToSlide(e))),this.paginationEl.appendChild(t),this.paginationBullets.push(t)}}update(){this.wrapper.style.transform=`translateX(-${100*this.currentIndex}%)`,this.paginationBullets&&this.paginationBullets.forEach(((e,t)=>{e.classList.toggle("active",t===this.currentIndex)}))}goToSlide(e){e<0?e=this.options.loop?this.totalSlides-1:0:e>=this.totalSlides&&(e=this.options.loop?0:this.totalSlides-1),this.currentIndex=e,this.update(),this.container.dispatchEvent(new CustomEvent("slideChange",{detail:{currentIndex:this.currentIndex}}))}next(){this.goToSlide(this.currentIndex+1)}prev(){this.goToSlide(this.currentIndex-1)}handleTouchStart(e){this.touchData.startX=e.touches[0].clientX,this.touchData.isSwiping=!0}handleTouchEnd(e){if(!this.touchData.isSwiping)return;const t=e.changedTouches[0].clientX,i=this.touchData.startX-t;Math.abs(i)>50&&(i>0?this.next():this.prev()),this.touchData.isSwiping=!1}handleMouseDown(e){this.touchData.startX=e.clientX,this.touchData.isSwiping=!0}handleMouseUp(e){if(!this.touchData.isSwiping)return;const t=e.clientX,i=this.touchData.startX-t;Math.abs(i)>50&&(i>0?this.next():this.prev()),this.touchData.isSwiping=!1}handleMouseLeave(){this.touchData.isSwiping=!1}handleKeyDown(e){"ArrowRight"===e.key?this.next():"ArrowLeft"===e.key&&this.prev()}addEventListeners(){this.container.addEventListener("touchstart",this.boundHandleTouchStart,{passive:!0}),this.container.addEventListener("touchend",this.boundHandleTouchEnd,{passive:!0}),this.container.addEventListener("mousedown",this.boundHandleMouseDown),this.container.addEventListener("mouseup",this.boundHandleMouseUp),this.container.addEventListener("mouseleave",this.boundHandleMouseLeave),this.container.addEventListener("keydown",this.boundHandleKeyDown)}removeEventListeners(){this.container.removeEventListener("touchstart",this.boundHandleTouchStart),this.container.removeEventListener("touchend",this.boundHandleTouchEnd),this.container.removeEventListener("mousedown",this.boundHandleMouseDown),this.container.removeEventListener("mouseup",this.boundHandleMouseUp),this.container.removeEventListener("mouseleave",this.boundHandleMouseLeave),this.container.removeEventListener("keydown",this.boundHandleKeyDown)}destroy(){this.removeEventListeners(),this.paginationEl&&(this.paginationEl.innerHTML=""),this.container=null,this.wrapper=null,this.slides=null,this.paginationBullets=null}}(".hero__swiper",{loop:!0,pagination:{el:".hero__swiper-pagination",clickable:!0},a11y:{paginationBulletMessage:"Слайд {{index}}"}}),function(){let e=document.querySelectorAll(".how__nav-item-btn"),t=document.querySelectorAll(".how__page");e.forEach((function(i){i.addEventListener("click",(function(i){const n=i.currentTarget.dataset.path;e.forEach((function(e){e.classList.remove("active")})),i.currentTarget.classList.add("active"),t.forEach((function(e){e.classList.remove("active")})),document.querySelector(`[data-target="${n}"]`).classList.add("active")}))}))}(),function(){const e=document.querySelectorAll(".faq__item"),t=(t,i)=>{t.classList.contains("active")?(t.classList.remove("active"),i.setAttribute("aria-expanded","false")):(e.forEach((e=>{e.classList.remove("active"),e.querySelector(".faq__item-header").setAttribute("aria-expanded","false")})),t.classList.add("active"),i.setAttribute("aria-expanded","true"))};e.forEach(((e,i)=>{const n=e.querySelector(".faq__item-header"),a=e.querySelector(".faq__item-panel");a.id=`faq-panel-${i+1}`,n.id=`faq-btn-${i+1}`,n.setAttribute("aria-controls",a.id),n.setAttribute("aria-expanded","false"),n.addEventListener("click",(i=>{i.stopPropagation(),t(e,n)})),n.addEventListener("keydown",(i=>{"Enter"!==i.key&&" "!==i.key||(i.preventDefault(),t(e,n))}))}))}(),function(){const e=document.querySelector("form.footer__item");if(!e)return;const t=e.querySelector(".footer__item-form-submit"),i=e.querySelector('input[type="checkbox"]');t.disabled=!0;const n=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z]{2,}$/,a=()=>t.disabled=!(e.checkValidity()&&i.checked);e.addEventListener("input",(e=>{const t=e.target;if(t.matches('input[type="text"], textarea')){const e=t.value.replace(/[<>]/g,"").replace(/\p{L}/gu,(e=>/[A-Za-z]/.test(e)?e:""));t.value!==e&&(t.value=e)}else if(t.matches('input[type="email"]')){const e=t.value.replace(/[^a-zA-Z0-9@._-]/g,"");t.value!==e&&(t.value=e),t.setCustomValidity(n.test(t.value)?"":"Введите корректный email")}a()})),i.addEventListener("change",a),e.addEventListener("submit",(t=>{e.checkValidity()&&i.checked||(t.preventDefault(),alert("Пожалуйста, заполните все обязательные поля и подтвердите согласие на обработку данных."))}))}()}))}();